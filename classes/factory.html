<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>factory - SmartJs</title>
  
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
</head>
<body class="yui3-smart">
 <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
               <a class="navbar-brand mainlogo" href="https://github.com/zhh77/smartjs">
             
            <img alt="SmartJs" src="../assets/css/logo.png" title="SmartJs">
            
                SmartJs
          </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                 <ul class="nav navbar-nav">
                    
                    <li><a href="https://github.com/zhh77/smartjs">Home</a>
                    </li>
                    
                    <li><a href="http://zhh77.github.io/smartjs/">Document</a>
                    </li>
                    
                    <li><a href="http://www.cnblogs.com/zhh8077">Blog</a>
                    </li>
                    
                    <li><a href="https://github.com/zhh77/smartDoc">SmartDoc</a>
                    </li>
                    
                </ul>
               <div class="navbar-form navbar-right filterAPi" autocomplete="off">
                <input type="text" id='txtSearchAPI' class="form-control search-query" placeholder="Search for API" />
                 <ul id="filterList" class="filterItems dropdown-menu" role="menu"></ul>
                </div>
            </div>
        </div>
    </nav>
<div class="container">
    <div class="row">
        <div class="col-sm-3">
	    <div id="sidebar">
    <h3>Modules/Classes</h3>
        <div id="api-tabview-filter">
            <input id='txtSearch' type="search" class="form-control" placeholder="Type to filter Modules/Classes">
        </div>
        <dl>
             
                <dt>
                    <span class="glyphicon glyphicon-plus"></span>
                    <a href="../modules/AOP.html">AOP</a>
                </dt>
                <dd class="hide">
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/promiseEvent.html">promiseEvent</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/EventArg.html">EventArg</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/attachTrigger.html">attachTrigger</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/EventArg(trigger).html">EventArg(trigger)</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/flowController.html">flowController</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/EventArg(flowController).html">EventArg(flowController)</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-plus"></span>
                    <a href="../modules/DataManager.html">DataManager</a>
                </dt>
                <dd class="hide">
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/dataServices.html">dataServices</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/baseDataService.html">baseDataService</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/dataManager.html">dataManager</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/baseDataManager.html">baseDataManager</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-plus"></span>
                    <a href="../modules/FilterBuilder.html">FilterBuilder</a>
                </dt>
                <dd class="hide">
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/FilterBuilder.html">FilterBuilder</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/Operations.html">Operations</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-plus"></span>
                    <a href="../modules/OOP.html">OOP</a>
                </dt>
                <dd class="hide">
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/klassBase.html">klassBase</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/klass.html">klass</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/factory.html">factory</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
                <dt>
                    <span class="glyphicon glyphicon-plus"></span>
                    <a href="../modules/Util.html">Util</a>
                </dt>
                <dd class="hide">
                    <ul>
                   
                       <li>
                            
                           <a href="../classes/util.html">util</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                       <li>
                            
                           <a href="../classes/priorityList.html">priorityList</a>
                           <ul>
                                
                           </ul>
                       </li>
                    
                    </ul>
                </dd>
             
        </dl>
</div>
   
        </div>
        <div class="col-sm-9">
            <!--     <form id="options-form" class="form-inline pull-right">
        Show:
        <label for="api-show-inherited" class="checkbox">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected" class="checkbox">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private" class="checkbox">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated" class="checkbox">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </form>

 -->
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <div class="page-header">
    <h1>factory <small>Class</small></h1>
</div>
 <div class="well well-small sign-left3">
      <p>factory并不只是指的是工厂模式。在factory要求定义一个基础对象，这个对象可以是基类，也可以是模板对象或者是接口。然后factory就已此基础对象为基础，其他添加或者创建的对象，继承或者是复制基础对象的属性和方法。factory在提供一系列方法来对这些对象做控制。
       factory经过简单的处理可以实现工厂、外观、模板等设计模式。</p>

 </div>

<div class="well well-small sign-left2" id="classesItems">
    
        <div class="index-section methods">
            <h3>Methods</h3>

            <ul class="index-list methods extends">
                
                    <li class="index-item method">
                        <a href="#" data-tabid="#method" data-anchor="#method_add" data-tablink="add">add</a>

                        
                        
                    </li>
                
                    <li class="index-item method">
                        <a href="#" data-tabid="#method" data-anchor="#method_build" data-tablink="build">build</a>

                        
                        
                    </li>
                
                    <li class="index-item method inherited">
                        <a href="#" data-tabid="#method" data-anchor="#method_callBase" data-tablink="callBase">callBase</a>

                        
                        
                    </li>
                
                    <li class="index-item method inherited">
                        <a href="#" data-tabid="#method" data-anchor="#method_callProto" data-tablink="callProto">callProto</a>

                        
                        
                    </li>
                
                    <li class="index-item method inherited">
                        <a href="#" data-tabid="#method" data-anchor="#method_extend" data-tablink="extend">extend</a>

                        
                        
                    </li>
                
                    <li class="index-item method">
                        <a href="#" data-tabid="#method" data-anchor="#method_find" data-tablink="find">find</a>

                        
                        
                    </li>
                
                    <li class="index-item method">
                        <a href="#" data-tabid="#method" data-anchor="#method_fire" data-tablink="fire">fire</a>

                        
                        
                    </li>
                
                    <li class="index-item method inherited">
                        <a href="#" data-tabid="#method" data-anchor="#method_getBase" data-tablink="getBase">getBase</a>

                        
                        
                    </li>
                
                    <li class="index-item method">
                        <a href="#" data-tabid="#method" data-anchor="#method_remove" data-tablink="remove">remove</a>

                        
                        
                    </li>
                
                    <li class="index-item method">
                        <a href="#" data-tabid="#method" data-anchor="#method_setDefault" data-tablink="setDefault">setDefault</a>

                        
                        
                    </li>
                
            </ul>
        </div>
    

    

    

    
</div>

<div>
    <ul id="itemTab" class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#class">Detail</a></li>
        
            <li><a data-toggle="tab" href="#method">Methods</a></li>
        
        
        
        
    </ul>

    <div class="tab-content">
        <div id="class" class="tab-pane active">
           <div class="well well-small classDetail sign-left1">
            

            
                <div class="extends">
                    Extends Klass
                </div>
            

            
                <div class="foundat">
                    Defined in: <a href="../files/src_base_oop.js.html#l329"><code>src\base\oop.js:329</code></a>
                </div>
            

            
                
                    Module: <a href="../modules/OOP.html">OOP</a>
                
            

            
        </div>

        
            
                <div class="constructor">
                    <h2>Constructor</h2>
                    <div id="method_factory" class="method item">
    <h3 class="name">factory</h3>
    <code>
    factory
    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        name
                    
                </li>
            
                <li class="arg">
                    
                        base
                    
                </li>
            
                <li class="arg">
                    
                        [proto]
                    
                </li>
            
                <li class="arg">
                    
                        [type]
                    
                </li>
            
                <li class="arg">
                    
                        [initDefault]
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    
    </code>

    
        <span class="returns-inline">
            <span class="type">Factory</span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_base_oop.js.html#l329"><code>src\base\oop.js:329</code></a>
        
        </p>


        

        
    </div>

    <div class="description well well-small sign-left3">
        
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <table class="table table-bordered">
            <tr class='active'><th>name</th><th>type</th><th>flag</th><th>description</th></tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">name</code>
                       <td> <span class="type">String</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>工厂名称</p>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">base</code>
                       <td> <span class="type">Object</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>基类对象，所有在工厂中添加的对象都以base为基础</p>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                    <td>
                        <code class="param-name optional">[proto]</code></td>
                    <td><span class="type">Object</span></td>
                    <td><span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>工厂的扩展属性和方法对象</p>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                    <td>
                        <code class="param-name optional">[type]</code></td>
                    <td><span class="type">String</span></td>
                    <td><span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>工厂的类型； </p>
<ol>
<li>默认:类实例化后的对象；</li>
<li>class：类对象，未实例化；</li>
<li>merge：对象复制合并</li>
</ol>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                    <td>
                        <code class="param-name optional">[initDefault]</code></td>
                    <td><span class="type">Boolean</span></td>
                    <td><span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>是否将base设置成为默认的对象；当使用factory.get找不到对象时返回默认对象</p>

                    </div>

                    
                </tr>
            
            </table>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        [<span class="type">Factory</span>]
                    
                    <p>返回创建的工厂对象</p>

                
            </div>
        </div>
    

    
        <div class="example">
            <h4>Example:</h4>
            <div class="example-content">
                <pre class="code prettyprint"><code>      //widget基类
       var baseWidget = {
           //widget类型
           type: &#39;&#39;,
           //widget的渲染方法
           render: function(id) {
               return this.type + &#39;:&#39; + id;
           }
       };

       //一个widget工厂
       var widgetFactory = st.factory(&#39;wdigetfactory&#39;, baseWidget);

       //添加一个input
       widgetFactory.add(&#39;input&#39;, {
           type: &#39;input&#39;
       })

       //找到添加的input
       var input = widgetFactory.find(&#39;input&#39;);

       //_$fType为注册的类型名
       expect(input._$fType).toBe(&#39;input&#39;);

       //输出
       expect(input.render(&#39;txt&#39;)).toBe("input:txt");


       //添加一个number类型的input
       var num = widgetFactory.add(&#39;number&#39;, {
           type: &#39;input[number]&#39;
           //指定父类为input
       }, &#39;input&#39;)

       //输出
       expect(num.render(&#39;txtNum&#39;)).toBe("input[number]:txtNum");



       // 类模式，注册的对象都是类的方式，使用需要初始化
       var f1 = st.factory({
           name: &#39;classMode&#39;,
           //设置class类型
           type: &#39;class&#39;,
           base: {
               klassInit: function(name) {
                   this.name = name;
               }

           }
       });

       var c1 = f1.add(&#39;c1&#39;, {
           type: &#39;c1&#39;
       });

       expect(c1.fn).toBeDefined();

       //需要初始化
       var c = new c1(&#39;class1&#39;);
       expect(c.type).toBe("c1");
       expect(c.name).toBe("class1");



       //merget mode
        var f2 = st.factory({
           name: &#39;copyMode&#39;,
           //设置merge类型
           type: 　&#39;merge&#39;,
           //设置默认模式
           initDefault: true,
           base: {
               name: &#39;copy&#39;,
               project: {
                   name: &#39;smartjs&#39;
               }
           }
       })

       var c = f2.add(&#39;c1&#39;, {
           name: &#39;c1&#39;,
           project: {
               role: &#39;pm&#39;
           }
       });

       expect(f2.find().name).toBe("copy");
       expect(c.name).toBe("c1");
       expect(c.project.name).toBe("smartjs");
       expect(c.project.role).toBe("pm");</code></pre>

            </div>
            <button class="btn-viewDemo btn btn-success" type="button">view demo</button>
            <button class="btn-runDemo btn btn-success" type="button">edit code</button>
        </div>
    
</div>

                </div>
            
        </div>

        
            <div id="method" class="tab-pane">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method_add" class="method item">
    <h3 class="name">add</h3>
    <code>
    add
    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        name
                    
                </li>
            
                <li class="arg">
                    
                        item
                    
                </li>
            
                <li class="arg">
                    
                        [parent]
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    
    </code>

    
        <span class="returns-inline">
            <span class="type">Object | Klass</span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_base_oop.js.html#l520"><code>src\base\oop.js:520</code></a>
        
        </p>


        

        
    </div>

    <div class="description well well-small sign-left3">
        <p>添加产品方法，注册到factory中</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <table class="table table-bordered">
            <tr class='active'><th>name</th><th>type</th><th>flag</th><th>description</th></tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">name</code>
                       <td> <span class="type">String</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>产品名称</p>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">item</code>
                       <td> <span class="type">Object</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>产品特性</p>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                    <td>
                        <code class="param-name optional">[parent]</code></td>
                    <td><span class="type">String</span></td>
                    <td><span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>父类名称，注册到factory中产品名称</p>

                    </div>

                    
                </tr>
            
            </table>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        [<span class="type">Object | Klass</span>]
                    
                    <p>返回创建的产品</p>

                
            </div>
        </div>
    

    
        <div class="example">
            <h4>Example:</h4>
            <div class="example-content">
                <pre class="code prettyprint"><code> //一个widget工厂
 var widgetFactory = st.factory({
     //工厂名
     name : &#39;wdigetfactory&#39;,
     //工厂类型
     type: &#39;class&#39;,
     //基类对象  
     base : {
         //widget类型
         type: &#39;&#39;,
         //widget的渲染方法
         render: function(id) {
             return this.type + &#39;:&#39; + id;
         }
     } 
 });

 var Tab = widgetFactory.add(&#39;Tab&#39;,{type : &#39;Tab&#39;});

 expect(widgetFactory.find(&#39;Tab&#39;)).toBeDefined();

 var tab1 = new Tab();

 expect(tab1.render(&#39;tab1&#39;)).toBe(&#39;Tab:tab1&#39;);</code></pre>

            </div>
            <button class="btn-viewDemo btn btn-success" type="button">view demo</button>
            <button class="btn-runDemo btn btn-success" type="button">edit code</button>
        </div>
    
</div>

                
                    <div id="method_build" class="method item">
    <h3 class="name">build</h3>
    <code>
    build
    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        name
                    
                </li>
            
                <li class="arg">
                    
                        item
                    
                </li>
            
                <li class="arg">
                    
                        [parent]
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    
    </code>

    
        <span class="returns-inline">
            <span class="type">Object | Klass</span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_base_oop.js.html#l480"><code>src\base\oop.js:480</code></a>
        
        </p>


        

        
    </div>

    <div class="description well well-small sign-left3">
        <p>使用工厂创建产品方法，但不注册到factory中</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <table class="table table-bordered">
            <tr class='active'><th>name</th><th>type</th><th>flag</th><th>description</th></tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">name</code>
                       <td> <span class="type">String</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>产品名称</p>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">item</code>
                       <td> <span class="type">Object</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>产品特性</p>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                    <td>
                        <code class="param-name optional">[parent]</code></td>
                    <td><span class="type">String</span></td>
                    <td><span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>父类名称，注册到factory中产品名称</p>

                    </div>

                    
                </tr>
            
            </table>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        [<span class="type">Object | Klass</span>]
                    
                    <p>返回创建的产品</p>

                
            </div>
        </div>
    

    
        <div class="example">
            <h4>Example:</h4>
            <div class="example-content">
                <pre class="code prettyprint"><code> //一个widget工厂
 var widgetFactory = st.factory(&#39;wdigetfactory&#39;, {
     //widget类型
     type: &#39;&#39;,
     //widget的渲染方法
     render: function(id) {
         return this.type + &#39;:&#39; + id;
     }
 },&#39;class&#39;);

 var Tab = widgetFactory.build(&#39;Tab&#39;,{type : &#39;Tab&#39;});

 expect(widgetFactory.find(&#39;Tab&#39;)).toBeUndefined();

 var tab1 = new Tab();

 expect(tab1.render(&#39;tab1&#39;)).toBe(&#39;Tab:tab1&#39;);</code></pre>

            </div>
            <button class="btn-viewDemo btn btn-success" type="button">view demo</button>
            <button class="btn-runDemo btn btn-success" type="button">edit code</button>
        </div>
    
</div>

                
                    <div id="method_callBase" class="method item inherited">
    <h3 class="name">callBase</h3>
    <code>
    callBase
    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        fnName
                    
                </li>
            
                <li class="arg">
                    
                        [baseName]
                    
                </li>
            
                <li class="arg">
                    
                        [args]
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    
    </code>

    
        <span class="returns-inline">
            <span class="type">Object</span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                <p>Inherited from
                <a href="..\classes\KlassBase.html#method_callBase">klassBase</a>:
            
        
        
        <a href="../files/src_base_oop.js.html#l101"><code>src\base\oop.js:101</code></a>
        
        </p>


        

        
    </div>

    <div class="description well well-small sign-left3">
        <p>调用基类的方法</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <table class="table table-bordered">
            <tr class='active'><th>name</th><th>type</th><th>flag</th><th>description</th></tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">fnName</code>
                       <td> <span class="type">String</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>方法名称</p>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                    <td>
                        <code class="param-name optional">[baseName]</code></td>
                    <td><span class="type">String</span></td>
                    <td><span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>基类名称</p>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                    <td>
                        <code class="param-name optional">[args]</code></td>
                    <td><span class="type">Array</span></td>
                    <td><span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>方法参数数组</p>

                    </div>

                    
                </tr>
            
            </table>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        [<span class="type">Object</span>]
                    
                    <p>执行结果</p>

                
            </div>
        </div>
    

    
        <div class="example">
            <h4>Example:</h4>
            <div class="example-content">
                <pre class="code prettyprint"><code> var Animate = st.klass("Animate", {
         klassInit: function(name) {
             this.name = name;
         },
         say: function(text) {
             return this.name + &#39;:&#39; + text;
         }
     });

 //继承user
 var Bird = st.klass("Bird", {
     //重写say方法
     say: function(text) {
          //调用基类方法
          return &#39;[Bird]&#39; + this.callBase(&#39;say&#39;,[text]);
     }
 }, Animate);

 var chicken = new Bird(&#39;chicken&#39;);
 expect(chicken.say(&#39;hello&#39;)).toBe(&#39;[Bird]chicken:hello&#39;);</code></pre>

            </div>
            <button class="btn-viewDemo btn btn-success" type="button">view demo</button>
            <button class="btn-runDemo btn btn-success" type="button">edit code</button>
        </div>
    
</div>

                
                    <div id="method_callProto" class="method item inherited">
    <h3 class="name">callProto</h3>
    <code>
    callProto
    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        name
                    
                </li>
            
                <li class="arg">
                    
                        [args]
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    
    </code>

    
        <span class="returns-inline">
            <span class="type"></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                <p>Inherited from
                <a href="..\classes\KlassBase.html#method_callProto">klassBase</a>:
            
        
        
        <a href="../files/src_base_oop.js.html#l23"><code>src\base\oop.js:23</code></a>
        
        </p>


        

        
    </div>

    <div class="description well well-small sign-left3">
        <p>调用原型链方法</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <table class="table table-bordered">
            <tr class='active'><th>name</th><th>type</th><th>flag</th><th>description</th></tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">name</code>
                       <td> <span class="type">String</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>需要执行的原型链方法名</p>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                    <td>
                        <code class="param-name optional">[args]</code></td>
                    <td><span class="type">Array</span></td>
                    <td><span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>执行参数</p>

                    </div>

                    
                </tr>
            
            </table>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                    <p>[object] 返回执行结果</p>

                
            </div>
        </div>
    

    
        <div class="example">
            <h4>Example:</h4>
            <div class="example-content">
                <pre class="code prettyprint"><code>var Animate = st.klass("Animate", {
    klassInit: function(name) {
        this.name = name;
    },
    say: function(text) {
        return this.name + &#39;:&#39; + text;
    }
});

var chicken = new Animate(&#39;chicken&#39;);
chicken.say = function(text){
    //调用原型链方法
    return &#39;[Bird]&#39; + this.callProto(&#39;say&#39;,[text]);
};

expect(chicken.say(&#39;hello&#39;)).toBe(&#39;[Bird]chicken:hello&#39;);</code></pre>

            </div>
            <button class="btn-viewDemo btn btn-success" type="button">view demo</button>
            <button class="btn-runDemo btn btn-success" type="button">edit code</button>
        </div>
    
</div>

                
                    <div id="method_extend" class="method item inherited">
    <h3 class="name">extend</h3>
    <code>
    extend
    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        prop
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    
    </code>

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                <p>Inherited from
                <a href="..\classes\KlassBase.html#method_extend">klassBase</a>:
            
        
        
        <a href="../files/src_base_oop.js.html#l156"><code>src\base\oop.js:156</code></a>
        
        </p>


        

        
    </div>

    <div class="description well well-small sign-left3">
        <p>类扩展方法</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <table class="table table-bordered">
            <tr class='active'><th>name</th><th>type</th><th>flag</th><th>description</th></tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">prop</code>
                       <td> <span class="type">Object</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>扩展的属性和方法对象</p>

                    </div>

                    
                </tr>
            
            </table>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>
            <div class="example-content">
                <pre class="code prettyprint"><code> var Animate = st.klass("Animate", {
     klassInit: function(name) {
         this.name = name;
     },
     say: function(text) {
         return this.name + &#39;:&#39; + text;
     }
 });

 var chicken = new Animate(&#39;chicken&#39;);

 //扩展等同于 chicken.say = xxx
 chicken.extend({
     say : function(text){
         return &#39;hello&#39;;
     }
 });

 expect(chicken.say(&#39;hello&#39;)).toBe(&#39;hello&#39;);</code></pre>

            </div>
            <button class="btn-viewDemo btn btn-success" type="button">view demo</button>
            <button class="btn-runDemo btn btn-success" type="button">edit code</button>
        </div>
    
</div>

                
                    <div id="method_find" class="method item">
    <h3 class="name">find</h3>
    <code>
    find
    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        name
                    
                </li>
            
                <li class="arg">
                    
                        defaultMode
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    
    </code>

    
        <span class="returns-inline">
            <span class="type">Object</span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_base_oop.js.html#l558"><code>src\base\oop.js:558</code></a>
        
        </p>


        

        
    </div>

    <div class="description well well-small sign-left3">
        <p>查找注册的产品</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <table class="table table-bordered">
            <tr class='active'><th>name</th><th>type</th><th>flag</th><th>description</th></tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">name</code>
                       <td> <span class="type">String</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>产品名称</p>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">defaultMode</code>
                       <td> <span class="type">Object</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>是否在找不到产品的时候返回默认产品</p>

                    </div>

                    
                </tr>
            
            </table>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        [<span class="type">Object</span>]
                    
                    <p>返回查找的产品</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_fire" class="method item">
    <h3 class="name">fire</h3>
    <code>
    fire
    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        name
                    
                </li>
            
                <li class="arg">
                    
                        [args]
                    
                </li>
            
                <li class="arg">
                    
                        [handler]
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    
    </code>

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_base_oop.js.html#l634"><code>src\base\oop.js:634</code></a>
        
        </p>


        

        
    </div>

    <div class="description well well-small sign-left3">
        <p>执行工厂中产品的方法,不会返回结果;当工厂类型为class时，则执行的则是原型链上的方法</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <table class="table table-bordered">
            <tr class='active'><th>name</th><th>type</th><th>flag</th><th>description</th></tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">name</code>
                       <td> <span class="type">String</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>方法名称</p>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                    <td>
                        <code class="param-name optional">[args]</code></td>
                    <td><span class="type">Array</span></td>
                    <td><span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>执行参数</p>

                    </div>

                    
                </tr>
            
                <tr class="param">
                    
                    <td>
                        <code class="param-name optional">[handler]</code></td>
                    <td><span class="type">Function</span></td>
                    <td><span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>处理方法</p>

                    </div>

                    
                </tr>
            
            </table>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>
            <div class="example-content">
                <pre class="code prettyprint"><code> //一个widget工厂
 var widgetFactory = st.factory({
     //工厂名
     name : &#39;wdigetfactory&#39;,
     //工厂类型
     type: &#39;class&#39;,
     //基类对象  
     base : {
         //widget类型
         type: &#39;&#39;,
         //widget的渲染方法
         render: function(id) {
             return this.type + &#39;:&#39; + id;
         }
     } 
 });

 widgetFactory.add(&#39;Panel&#39;,{type : &#39;Panel&#39;});
 widgetFactory.add(&#39;Tab&#39;,{type : &#39;Tab&#39;});

 var ret = &#39;&#39;;
 //执行每个widget的render方法；
 widgetFactory.fire(&#39;render&#39;,[&#39;id&#39;],function(item,result){
     //this为widgetFactory；item为产品；result为render执行结果
     ret += result + &#39;-&#39;;
 })

 expect(ret).toBe(&#39;Panel:id-Tab:id-&#39;);</code></pre>

            </div>
            <button class="btn-viewDemo btn btn-success" type="button">view demo</button>
            <button class="btn-runDemo btn btn-success" type="button">edit code</button>
        </div>
    
</div>

                
                    <div id="method_getBase" class="method item inherited">
    <h3 class="name">getBase</h3>
    <code>
    getBase
    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        [baseName]
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    
    </code>

    
        <span class="returns-inline">
            <span class="type"></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                <p>Inherited from
                <a href="..\classes\KlassBase.html#method_getBase">klassBase</a>:
            
        
        
        <a href="../files/src_base_oop.js.html#l52"><code>src\base\oop.js:52</code></a>
        
        </p>


        

        
    </div>

    <div class="description well well-small sign-left3">
        <p>获取基类对象</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <table class="table table-bordered">
            <tr class='active'><th>name</th><th>type</th><th>flag</th><th>description</th></tr>
            
                <tr class="param">
                    
                    <td>
                        <code class="param-name optional">[baseName]</code></td>
                    <td><span class="type">String</span></td>
                    <td><span class="flag optional" title="This parameter is optional.">optional</span>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>基类名称,不设置则返回父类</p>

                    </div>

                    
                </tr>
            
            </table>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                    <p>[object] 返回基类</p>

                
            </div>
        </div>
    

    
        <div class="example">
            <h4>Example:</h4>
            <div class="example-content">
                <pre class="code prettyprint"><code>var Animate = st.klass("Animate", {
        klassInit: function(name) {
            this.name = name;
        },
        say: function(text) {
            return this.name + &#39;:&#39; + text;
        }
    });

//继承user
var Bird = st.klass("Bird", {
    //重写say方法
    say: function(text) {
        //根据名称向上找到父类原型
        var parent =  this.getBase(&#39;Animate&#39;);

        //调用原型链方法
        return &#39;[Bird]&#39; + parent.say.call(this,text);
    }
}, Animate);

var chicken = new Bird(&#39;chicken&#39;);
expect(chicken.say(&#39;hello&#39;)).toBe(&#39;[Bird]chicken:hello&#39;);</code></pre>

            </div>
            <button class="btn-viewDemo btn btn-success" type="button">view demo</button>
            <button class="btn-runDemo btn btn-success" type="button">edit code</button>
        </div>
    
</div>

                
                    <div id="method_remove" class="method item">
    <h3 class="name">remove</h3>
    <code>
    remove
    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        name
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    
    </code>

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_base_oop.js.html#l618"><code>src\base\oop.js:618</code></a>
        
        </p>


        

        
    </div>

    <div class="description well well-small sign-left3">
        <p>在工厂中移除注册的产品</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <table class="table table-bordered">
            <tr class='active'><th>name</th><th>type</th><th>flag</th><th>description</th></tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">name</code>
                       <td> <span class="type">String</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>产品名称</p>

                    </div>

                    
                </tr>
            
            </table>
        </div>
    

    

    
</div>

                
                    <div id="method_setDefault" class="method item">
    <h3 class="name">setDefault</h3>
    <code>
    setDefault
    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        name
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    
    </code>

    

    

    

    

    

    
        <span class="flag chainable">chainable</span>
    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_base_oop.js.html#l576"><code>src\base\oop.js:576</code></a>
        
        </p>


        

        
    </div>

    <div class="description well well-small sign-left3">
        <p>将注册的产品设置成默认产品</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <table class="table table-bordered">
            <tr class='active'><th>name</th><th>type</th><th>flag</th><th>description</th></tr>
            
                <tr class="param">
                    
                       <td> <code class="param-name">name</code>
                       <td> <span class="type">String</span>
                       <td>
                    

                    
                    </td>
                    <td><div class="param-description">
                        <p>产品名称</p>

                    </div>

                    
                </tr>
            
            </table>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>
            <div class="example-content">
                <pre class="code prettyprint"><code> //一个widget工厂
 var widgetFactory = st.factory({
     //工厂名
     name : &#39;wdigetfactory&#39;,
     //工厂类型
     type: &#39;class&#39;,
     //基类对象  
     base : {
         //widget类型
         type: &#39;&#39;,
         //widget的渲染方法
         render: function(id) {
             return this.type + &#39;:&#39; + id;
         }
     } 
 });

 widgetFactory.add(&#39;Panel&#39;,{type : &#39;Panel&#39;});

 //将Panel设置成默认项
 widgetFactory.setDefault(&#39;Panel&#39;)

 //Tab未注册，但参数中设置了返回默认，则会返回Panel
 var Tab = widgetFactory.find(&#39;Tab&#39;,true);

 var tab1 = new Tab();

 expect(tab1.render(&#39;tab1&#39;)).toBe(&#39;Panel:tab1&#39;);</code></pre>

            </div>
            <button class="btn-viewDemo btn btn-success" type="button">view demo</button>
            <button class="btn-runDemo btn btn-success" type="button">edit code</button>
        </div>
    
</div>

                
            </div>
        

        

        

        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<a id="gotoTop" class='well well-small' href='#'>
    Top
</a>
<script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/config.js"></script>
<script src="../assets/js/doc.js"></script>
</body>
</html>
